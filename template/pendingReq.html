{% extends 'home.html' %}
{% load static %}

{% block content %}
<div class="container">
    <div class="col-12 h1 my-4 text-center">
        Pending Requests
    </div>
    <table class="table">
        <thead>
          <tr>
            <th scope="col">Vehicle</th>
            <th scope="col">Driver</th>
            <th scope="col">Date</th>
            <th scope="col">RV</th>
            <th scope="col">Out Time</th>
            <th scope="col">Reason</th>
            {% if request.user.username == 'QM' %}
            <th scope="col">Approve</th>
            {% endif %}
          </tr>
        </thead>
        <tbody>
            {% for v in pending %}
          <tr>
            <th>{{v.vehicle}}</th>
            <td>{{v.driver}}</td>
            <td>{{v.date}}</td>
            <td>{{v.RV}}</td>
            <td>{{v.out_time}}</td>
            <td>{{v.reason}}</td>
            {% if request.user.username == 'QM' %}
            <td><a href="{% url 'approve' v.id %}" class='btn btn-sm btn-primary'>Approve</a></td>
            {% endif %}
          </tr>
          {% endfor %}
        </tbody>
      </table>

      <div class="col-12 h1 my-4 text-center">
        Approved Requests
    </div>
    <table class="table">
        <thead>
          <tr>
            <th scope="col">Vehicle</th>
            <th scope="col">Driver</th>
            <th scope="col">Date</th>
            <th scope="col">RV</th>
            <th scope="col">Out Time</th>
            <th scope="col">Reason</th>
            
          </tr>
        </thead>
        <tbody>
            {% for v in approved %}
          <tr>
            <th>{{v.vehicle}}</th>
            <td>{{v.driver}}</td>
            <td>{{v.date}}</td>
            <td>{{v.RV}}</td>
            <td>{{v.out_time}}</td>
            <td>{{v.reason}}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
</div>
{% endblock %}